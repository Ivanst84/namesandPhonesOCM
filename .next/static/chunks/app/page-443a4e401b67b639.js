(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{67:function(){},2061:function(){},2625:function(e,a,t){Promise.resolve().then(t.bind(t,7818))},7818:function(e,a,t){"use strict";t.d(a,{default:function(){return k}});var s=t(7437),r=t(2265),l=e=>{let{mensaje:a}=e;return(0,s.jsx)("h1",{className:"text-4xl font-bold text-gray-100 mb-6 text-center shadow-neonWhite animate-pulse",children:a})},n=t(6648),o=e=>{let{onDrop:a}=e,[t,l]=(0,r.useState)(!1);return(0,r.useEffect)(()=>{let e=e=>{let t=e.clipboardData?.items;if(t){let e=Array.from(t).filter(e=>"file"===e.kind).map(e=>e.getAsFile()).filter(e=>null!==e);e.length>0&&a(e)}};return document.addEventListener("paste",e),()=>{document.removeEventListener("paste",e)}},[a]),(0,s.jsx)("div",{onDrop:e=>{e.preventDefault(),l(!1),a(Array.from(e.dataTransfer.files))},onDragOver:e=>{e.preventDefault(),l(!0)},onDragLeave:e=>{e.preventDefault(),l(!1)},style:{border:"2px dashed #ccc",padding:"60px",textAlign:"center",marginBottom:"20px",cursor:"pointer",backgroundColor:t?"#e0f7fa":"transparent",transition:"background-color 0.3s ease"},children:"Arrastra y suelta una imagen aqu\xed o p\xe9gala desde el portapapeles"})},i=t(4176),d=t.n(i),c=()=>(0,s.jsx)("div",{className:"flex justify-center items-center h-screen",children:(0,s.jsx)(d(),{color:"#ffffff",size:50})}),m=e=>{let{onDrop:a,onUpload:t,loading:r,selectedImages:l,onRemoveImage:i}=e;return(0,s.jsxs)("div",{className:"w-full max-w-6xl mx-auto",children:[" ",r&&(0,s.jsxs)("div",{className:"absolute inset-0 flex items-center justify-center z-50",children:[(0,s.jsx)(c,{})," "]}),(0,s.jsx)(o,{onDrop:a}),(0,s.jsx)("input",{type:"file",accept:"image/*",onChange:t,multiple:!0,className:"mb-4 text-gray-900"}),(0,s.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:[" ",l.map((e,a)=>(0,s.jsxs)("div",{className:"relative group w-full h-80 overflow-hidden rounded border border-gray-700 hover:border-gray-500",children:[(0,s.jsx)(n.default,{src:e,alt:`Uploaded ${a}`,width:500,height:500,className:"w-full h-full object-contain transition-transform duration-300 transform grayscale"}),(0,s.jsx)("button",{onClick:()=>i(a),className:"absolute top-2 right-2 bg-gray-800 text-white rounded-full p-1 hover:bg-gray-600",children:(0,s.jsx)("span",{className:"text-lg",children:"\xd7"})})]},a))]})]})},h=t(7800);let u=(e,a,t,s)=>{let r=e.map((e,r)=>({Nombre:e,Telefono:a[r]||"",Mensaje:t[r]||"",Macros:s[r]||""})),l=h.P6.json_to_sheet(r,{header:["Nombre","Telefono","Mensaje","Macros"]}),n=h.P6.book_new();h.P6.book_append_sheet(n,l,"Datos"),h.NC(n,"datos.xlsx")};var g=e=>{let{names:a,phoneNumbers:t,messages:r,macros:l,onClear:n}=e;return(0,s.jsx)("button",{onClick:()=>{u(a,t,r,l),n()},className:"mt-6 px-4 py-2 bg-gray-700 text-gray-100 rounded hover:bg-gray-600 transition",children:"Generar Excel"})};let p=(e,a,t,s)=>{if("Personalizado"===t)return s||"";switch(t){case"Clientes":default:return`ðŸŒŸ \xa1Hola buenos d\xedas, ${e}! ðŸŒŸ
Soy ${a||"Asesor de izzi"},

Actualmente est\xe1s pagando el precio regular. \xbfSab\xedas que tenemos nuevas promociones para ti al realizar un cambio de servicio? Aqu\xed te ofrecemos un nuevo comienzo con estas opciones:

ðŸ“¶ Solo Internet: 100 megas por $369.
ðŸ“º Internet y Cable: 80 megas por $489.
ðŸ“¡ 100 megas y 100 canales por $519.

\xa1Aprovecha estas ofertas especiales y mejora tu experiencia con izzi hoy mismo!`;case"Nuevos":return`ðŸŒŸ \xa1Hola ${e}! ðŸŒŸ
Soy ${a||"Asesor de izzi"},

Tenemos ofertas exclusivas solo para ti: ðŸ“¶ Solo Internet: 100 megas por $369.
ðŸ“º Internet y Cable: 80 megas por $489.
ðŸ“¡ 100 megas y 100 canales por $519.

\xa1Aprovecha estas ofertas especiales y mejora tu experiencia con izzi hoy mismo!`}};var b=t(4834),x=t(1942),f=e=>{let{onSelect:a}=e,[t,l]=(0,r.useState)(!1);return(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)("div",{className:"absolute bottom-2 left-2 cursor-pointer",onClick:()=>l(e=>!e),children:(0,s.jsx)(x.sr,{size:24})}),t&&(0,s.jsx)("div",{className:"absolute bottom-12 left-2 z-50",children:(0,s.jsx)(b.ZP,{onEmojiClick:e=>{a(e.emoji),l(!1)}})})]})},j=e=>{let{names:a,phoneNumbers:t,messages:r,disabledButtons:l,onSendWhatsAppMessage:n}=e;return(0,s.jsxs)("table",{className:"w-full text-left border-collapse border border-gray-700",children:[(0,s.jsx)("thead",{children:(0,s.jsxs)("tr",{className:"bg-gray-800",children:[(0,s.jsx)("th",{className:"border border-gray-600 p-2 hidden md:table-cell",children:"Nombre"}),(0,s.jsx)("th",{className:"border border-gray-600 p-2 hidden md:table-cell",children:"Tel\xe9fono"}),(0,s.jsx)("th",{className:"border border-gray-600 p-2 hidden md:table-cell",children:"Mensaje"}),(0,s.jsx)("th",{className:"border border-gray-600 p-2 hidden md:table-cell",children:"WhatsApp"}),(0,s.jsx)("th",{className:"border border-gray-600 p-2 block md:hidden",children:"Acci\xf3n"})]})}),(0,s.jsx)("tbody",{children:a.map((e,a)=>(0,s.jsxs)("tr",{className:a%2==0?"bg-gray-800":"bg-gray-700",children:[(0,s.jsx)("td",{className:"border border-gray-600 p-2 hidden md:table-cell",children:e}),(0,s.jsx)("td",{className:"border border-gray-600 p-2 hidden md:table-cell",children:t[a]}),(0,s.jsx)("td",{className:"border border-gray-600 p-2 hidden md:table-cell overflow-hidden text-ellipsis whitespace-nowrap",title:r[a],children:r[a].length>50?r[a].substring(0,50)+"...":r[a]}),(0,s.jsx)("td",{className:"border border-gray-600 p-2 hidden md:table-cell",children:(0,s.jsx)("button",{onClick:()=>n(t[a],e,r[a],a),className:`px-2 py-1 ${l.has(a)?"bg-gray-500 cursor-not-allowed":"bg-green-500 hover:bg-green-400"} text-white rounded transition`,disabled:l.has(a),children:l.has(a)?"Enviado":"Enviar WhatsApp"})}),(0,s.jsx)("td",{className:"border border-gray-600 p-2 block md:hidden",children:(0,s.jsxs)("div",{className:"flex flex-col",children:[(0,s.jsx)("span",{className:"block mb-1",children:e}),(0,s.jsx)("span",{className:"block mb-1",children:t[a]}),(0,s.jsx)("button",{onClick:()=>n(t[a],e,r[a],a),className:`px-2 py-1 ${l.has(a)?"bg-gray-500 cursor-not-allowed":"bg-green-500 hover:bg-green-400"} text-white rounded transition`,disabled:l.has(a),children:l.has(a)?"Enviado":"Enviar WhatsApp"})]})})]},a))})]})},v=e=>{let{names:a,phoneNumbers:t,messages:l,macros:n,loading:o}=e,[i,d]=(0,r.useState)(a),[m,h]=(0,r.useState)(t),[u,p]=(0,r.useState)(l),[b,x]=(0,r.useState)(n),[f,v]=(0,r.useState)(new Set);return(0,r.useEffect)(()=>{let e=localStorage.getItem("tableData");if(e){let{names:a,phoneNumbers:t,messages:s,macros:r}=JSON.parse(e);d(a),h(t),p(s),x(r)}},[]),(0,r.useEffect)(()=>{d(a),h(t),p(l),x(n)},[a,t,l,n]),(0,r.useEffect)(()=>{let e=JSON.stringify({names:i,phoneNumbers:m,messages:u,macros:b});localStorage.setItem("tableData",e)},[i,m,u,b]),(0,s.jsxs)("div",{className:"relative",children:[o&&(0,s.jsx)("div",{className:"absolute inset-0 flex items-center justify-center z-50 bg-gray-800 bg-opacity-50",children:(0,s.jsx)(c,{})}),(0,s.jsx)(j,{names:i,phoneNumbers:m,messages:u,macros:b,disabledButtons:f,onSendWhatsAppMessage:(e,a,t,s)=>{let r=/Mobi|Android|iPhone|iPad|iPod/.test(navigator.userAgent)?`https://wa.me/${e}?text=${encodeURIComponent(t)}`:`https://web.whatsapp.com/send?phone=${e}&text=${encodeURIComponent(t)}`;window.open(r,"_blank"),v(e=>new Set(e).add(s))}}),(0,s.jsx)("div",{className:"mt-6",children:(0,s.jsx)(g,{names:i,phoneNumbers:m,messages:u,macros:b,onClear:()=>localStorage.removeItem("tableData")})})]})},y=t(3435),N=t.n(y);let w=e=>{let a=e.split("\n"),t=[],s=[],r=new Set;return a.forEach(e=>{let a=e.split(/\s+/);if(a.length>1){let e=a.slice(0,-1).join(" "),l=a[a.length-1].replace(/[^0-9]/g,"");l.length>=10&&!r.has(l)&&(r.add(l),t.push(e),s.push(l))}}),{names:t,phoneNumbers:s}};var S=e=>{let{selectedImages:a,setNames:t,setPhoneNumbers:l}=e,n=e=>{let a=document.createElement("canvas"),t=a.getContext("2d");if(!t)throw Error("No se pudo obtener el contexto 2D del canvas");a.width=1.2*e.width,a.height=1.2*e.height,t.drawImage(e,0,0,1.2*e.width,1.2*e.height);let s=t.getImageData(0,0,a.width,a.height),r=s.data;for(let e=0;e<r.length;e+=4){let a=.3*r[e]+.5*r[e+1]+.5*r[e+2];r[e]=.7*a,r[e+1]=.7*a,r[e+2]=.7*a}return t.putImageData(s,0,0),a},o=(0,r.useCallback)(async()=>{let e=[],s=[];for(let t of a)try{let a=new Image;a.src=t,await new Promise(e=>{a.onload=e});let r=n(a).toDataURL("image/png"),{data:{text:l}}=await N().recognize(r,"eng"),{names:o,phoneNumbers:i}=w(l);e.push(...o),s.push(...i)}catch(e){console.error("Error durante el reconocimiento de texto:",e)}let r=Math.max(e.length,s.length),o=e.slice(0,r),i=s.slice(0,r);for(;o.length<r;)o.push("");for(;i.length<r;)i.push("00000");t(o),l(i)},[a,t,l]);return(0,r.useEffect)(()=>{a.length>0&&o()},[a,o]),(0,s.jsx)("div",{})},C=e=>{let{className:a}=e,[t,l]=(0,r.useState)(!1);return(0,r.useEffect)(()=>{let e=setTimeout(()=>l(!0),100);return()=>clearTimeout(e)},[]),(0,s.jsx)("div",{className:`flex justify-center mb-4 ${a}`,children:(0,s.jsx)(n.default,{src:"/espartano.png",alt:"Logo",width:96,height:96,className:`transform transition-transform transition-opacity duration-1000 ${t?"scale-100 opacity-100":"scale-150 opacity-0"} shadow-neon`})})};let E=e=>{let a=e.split(" ");return a.length>0?a[0]:""};var k=()=>{let[e,a]=(0,r.useState)([]),[t,n]=(0,r.useState)([]),[o,i]=(0,r.useState)([]),[d,c]=(0,r.useState)("Nuevos"),[h,u]=(0,r.useState)(""),[b,x]=(0,r.useState)(""),[j,y]=(0,r.useState)(!1),N=t.map(E),w=N.map(e=>p(e,h,d,b)),k=e=>encodeURIComponent(e),z=N.map((e,a)=>`="https://wa.me/${o[a]}?text=${k(w[a])}"`),$=e=>{y(!0);let t=e.map(e=>URL.createObjectURL(e));a(e=>e.concat(t)),y(!1)};return(0,s.jsxs)("div",{className:"min-h-screen bg-gray-900 text-white flex flex-col items-center justify-center p-4",children:[(0,s.jsx)(C,{}),(0,s.jsx)(l,{mensaje:"Espartanos Web App v 1.0 Beta "}),(0,s.jsx)("input",{type:"text",placeholder:"Ingresa tu nombre",value:h,onChange:e=>u(e.target.value),className:"p-2 mb-4 bg-gray-800 text-white border border-gray-600 rounded"}),(0,s.jsxs)("select",{value:d,onChange:e=>c(e.target.value),className:"p-2 mb-4 bg-gray-800 text-white border border-gray-600 rounded",children:[(0,s.jsx)("option",{value:"Nuevos",children:"Nuevos"}),(0,s.jsx)("option",{value:"Clientes",children:"Clientes"}),(0,s.jsx)("option",{value:"Personalizado",children:"Personalizado"})]}),"Personalizado"===d&&(0,s.jsxs)("div",{className:"relative w-full",children:[(0,s.jsx)("textarea",{value:b,onChange:e=>x(e.target.value),placeholder:"Ingresa tu mensaje personalizado aqu\xed...",className:"p-2 bg-gray-800 text-white border border-gray-600 rounded w-full",rows:4}),(0,s.jsx)("div",{className:"absolute bottom-2 left-2",children:(0,s.jsx)(f,{onSelect:e=>{let a=b+e;console.log("Mensaje con emoji:",a),x(a)}})})]}),(0,s.jsx)(m,{onDrop:e=>$(e),onUpload:e=>{e.target.files&&$(Array.from(e.target.files))},selectedImages:e,onRemoveImage:e=>{a(a=>a.filter((a,t)=>t!==e))},loading:j}),(0,s.jsx)(S,{selectedImages:e,setNames:n,setPhoneNumbers:i}),N.length>0&&o.length>0&&(0,s.jsx)("div",{className:"mt-6 w-full",children:(0,s.jsx)(v,{names:N,phoneNumbers:o,messages:w,macros:z,loading:j,onGenerateExcel:()=>{console.log("Generando archivo Excel...")}})}),(0,s.jsx)(g,{names:N,phoneNumbers:o,messages:w,macros:z,onClear:()=>{a([]),n([]),i([]),u(""),x("")}})]})}}},function(e){e.O(0,[425,699,560,876,971,23,744],function(){return e(e.s=2625)}),_N_E=e.O()}]);